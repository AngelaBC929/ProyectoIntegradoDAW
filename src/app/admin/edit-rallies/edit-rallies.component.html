<div class="form-container">
  <h2>Editar Rally</h2>

  <form [formGroup]="rallyForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="title">Título</label>
      <input id="title" formControlName="title" type="text" required />
    </div>

    <div class="form-group">
      <label for="description">Descripción</label>
      <textarea id="description" formControlName="description" required></textarea>
    </div>

    <div class="form-group">
      <label for="start_date">Fecha de inicio</label>
      <input id="start_date" type="date" formControlName="start_date" required />
    </div>

    <div class="form-group">
      <label for="end_date">Fecha de finalización</label>
      <input id="end_date" type="date" formControlName="end_date" required />
    </div>

    <div class="form-group">
      <label for="location">Ubicación</label>
      <input id="location" formControlName="location" type="text" required />
    </div>

    <div class="form-group">
      <label for="theme">Tema</label>
      <input id="theme" formControlName="theme" type="text" required />
    </div>

    <div *ngIf="rallyForm.invalid" class="error-message">
      Por favor, completa todos los campos correctamente.
    </div>

    <button type="submit" [disabled]="rallyForm.invalid || isLoading">Actualizar</button>
    <button type="button" class="cancel-button" (click)="cancel()">Cancelar</button>
  </form>
<br>
  <!-- Opcional: mostrar datos actuales -->
  <div *ngIf="rallyForm.get('start_date')?.value || rallyForm.get('end_date')?.value">
    <h3><strong>Inicio actual:</strong> {{ rallyForm.get('start_date')?.value | date }}</h3>
    <h3><strong>Fin actual:</strong> {{ rallyForm.get('end_date')?.value | date }}</h3>
  </div>
</div>
