<div class="photo-list">
  <h2>Fotos de usuarios</h2>
  <table border="1" cellspacing="0" cellpadding="8">
    <thead>
      <tr>
        <th>Foto</th>
        <th>Usuario</th>
        <th>Rally</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let photo of allPhotos">
        <td><img [src]="photo.photo_url" alt="Foto" width="100" /></td>
        <td>{{ photo.user_name || 'Sin nombre' }}</td>
        <td>{{ photo.rally_name || 'Sin rally' }}</td>
        <td>{{ photo.status }}</td>
        <td>
          <button (click)="openModal(photo)">Revisar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Modal -->
<div class="modal" *ngIf="isModalOpen">
  <div class="modal-content">
    <span class="close" (click)="closeModal()">&times;</span>
    <h3>Revisar Foto</h3>
    <img [src]="selectedPhoto.photo_url" alt="Foto seleccionada" width="300" />
    <p>Usuario: {{ selectedPhoto.user_name || 'Desconocido' }}</p>
    <p>Rally: {{ selectedPhoto.rally_name || 'Desconocido' }}</p>
    <p>Estado actual: {{ selectedPhoto.status }}</p>

    <button (click)="updatePhotoStatus('approved')">Aprobar</button>
    <button (click)="updatePhotoStatus('rejected')">Rechazar</button>
  </div>
</div>
