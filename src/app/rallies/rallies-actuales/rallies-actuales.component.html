<h2>Rallies Actuales</h2>

<ul *ngIf="ralliesActuales.length > 0; else sinRallies">
  <li *ngFor="let rally of ralliesActuales">
    <h3>{{ rally.title }}</h3>
    <p>{{ rally.description }}</p>
    <p>
      Inicio: <span>{{ rally.start_date | date:'dd/MM/yyyy' }}</span> -
      Fin: <span>{{ rally.end_date | date:'dd/MM/yyyy' }}</span>
    </p>

    <!-- Bot贸n que cambia dependiendo del estado de inscripci贸n -->
    <ng-container *ngIf="estaInscrito(rally.id); else noInscrito">
      <button class="cancelar-btn" (click)="alternarInscripcion(rally.id)">
        Anular Inscripci贸n
      </button>
    </ng-container>

    <ng-template #noInscrito>
      <button class="apuntarme-btn" (click)="alternarInscripcion(rally.id)">
        Inscribirse
      </button>
    </ng-template>
  </li>
</ul>

<!-- Mensaje si no hay rallies activos -->
<ng-template #sinRallies>
  <p class="no-rallies-message">No hay rallies actualmente.</p>
</ng-template>

<!-- Bot贸n para volver -->
<div class="button-container">
  <button (click)="volverAlPanelUsuario()" class="back-button">Volver</button>
</div>
